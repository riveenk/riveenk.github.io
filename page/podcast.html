<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Riveen Kumanayaka</title>
    <link rel="icon" type="image/png" href="/media/favicon.png">
    <link rel="stylesheet" type="text/css" href="/design.css">
    <link rel="stylesheet" type="text/css" href="/pages.css">
    <script src="/func.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body style="padding: 0px;">
    <script>
        createNavBar("#222", "#563c5c", "#412947", 3);
    </script>
    <style>
        body {
            margin: 0;
            overflow-x: hidden;
        }

        .web-body {
            max-width: 100vw;
            overflow-x: hidden;
        }


        .wbc-player {
            background-color: #563c5c;
            padding: 20px;
            box-sizing: border-box;
            display: flex;
            flex-wrap: wrap;
            gap: 25px;
            color: #fff;
        }

        .wbc-player img {
            width: 30%;
            height: auto;
            /* Maintain aspect ratio */
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0px 0px 3px 3px #222;
        }


        .audio-player {
            flex: 1;
            min-width: 0;
        }

        .audio-player audio {
            display: none;
        }

        .audio-player h2 {
            text-align: left;
            margin-bottom: 0px;
            margin-top: 10px;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .audio-player p {
            text-align: left;
            margin: 2px auto;
        }

        .audio-player table,
        th,
        td {
            width: 100%;
            border: 0px none;
        }

        .audio-func {
            margin-bottom: 10px;
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }

        .audio-func button {
            background-color: #fff;
            color: #563c5c;
            padding: 10px;
            border-width: 0px;
        }

        .audio-func button:hover {
            background-color: #412947;
            color: #fff;
            cursor: pointer;
        }

        .tw {
            border: red 3px solid;
            background-color: #fe9f9f;
            color: #a91101;
            padding: 20px;
            font-size: small;
            border-radius: 10px;
            display: inline;
        }

        .tw button {
            padding: 5px 10px;
            border-width: 0;
            background-color: white;
            color: a91101;
        }

        .description {
            background-color: #412947;
            color: #dcdcdc;
            padding: 20px;
            font-size: small;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out, padding 0.3s ease-in-out, margin 0.3s ease-in-out;
        }

        .description.collapsed {
            display: none;
            max-height: 0;
            padding: 0 !important;
            margin-top: 0 !important;
        }

        @media (min-width: 700px) and (max-width: 1320px) {
            .wbc-player {
                flex-direction: column;
                align-items: center;
                padding: 50px;
            }

            .description {
                padding: 50px;
            }

            .wbc-player img {
                width: 100%;
            }

            .audio-player {
                width: 100%;
            }
        }

        @media (max-width: 650px) {
            .wbc-player {
                flex-direction: column;
                align-items: center;
                padding: 5vw;
            }

            .description {
                padding: 5vw;

            }

            .wbc-player img {
                width: 100%;
            }

            .audio-player {
                width: 100%;
            }
        }

        .hover-circle {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #fff;
            border-radius: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            display: none;
            z-index: 2;
        }


        .progress-bar {
            height: 5px;
            background-color: #fff;
            padding: 0px;
            margin: 5px auto;
            cursor: pointer;
            position: relative;
        }

        .progress {
            height: 100%;
            background-color: #ae93cb;
            width: 0%;
            pointer-events: none;
        }

        .time {
            padding: 0px;
            width: 10px;
            font-family: consolas;
            color: #fff;
            font-size: small;
        }

        .wbc-episodes {
            padding: 20px;
            background-color: #412947;
            margin-top: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            max-height: 1000px;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out, padding 0.3s ease-in-out, margin 0.3s ease-in-out;
        }

        .wbc-episodes.collapsed {
            max-height: 0;
            padding: 0 !important;
            margin-top: 0 !important;
        }


        .wbc-episode {
            display: flex;
            align-items: center;
            /* vertically center the image + text */
            gap: 15px;
            /* space between image and text */
            background-color: #fcfcfc;
            width: 100%;
            padding: 15px;
            flex-wrap: nowrap;
            /* prevents breaking onto next line */
            overflow: hidden;
            /* avoids layout break from long text */
        }


        .wbc-episode:hover {
            background-color: #563c5c;
            color: #fff;
            cursor: pointer;
        }

        .wbc-episode img {
            height: 50px;
            width: 50px;
            object-fit: cover;
            flex-shrink: 0;
            /* donâ€™t let image shrink */
        }


        .wbc-episode h3 {
            margin: 0;
            font-size: 1rem;
            white-space: nowrap;
            /* optional: prevent text wrap */
            overflow: hidden;
            /* optional: truncate overflow */
            text-overflow: ellipsis;
            /* optional: show "..." if too long */
            flex-grow: 1;
        }

        .title-box {
            margin-bottom: 60px;
            text-align: left;
        }
    </style>

    <div class="web-body">
        <div class="body-main">
            <div class="wbc-about-box">
                <div class="title-box">
                    <h1>Wanna Be Cancelled?</h1>
                    <p>We're a podcast about humans and, I don't know, everything! It could seem like the most innocent
                        episode at a
                        point and us just, asking to be cancelled in another. Trust me, we're worth the trouble.
                        Anyways,
                        thank you
                        for reading the description up to this point. You can go back to doing something important now.
                        Unless you are
                        bored and just want to listen to two randos' yapping... Then, feel free to sit back, grab a
                        snack,
                        and let our
                        thoughts stack.</p>
                </div>
                <div class="warning" id="tw">

                </div>
                <div class="wbc-player" style="margin-top: 5px;">
                    <img src="/media/wbc-image.png">
                    <div class="audio-player">
                        <h2 id="title">EP3 - How Society Always Moves On</h2>
                        <p>Wolfie and Riveen</p>
                        <audio controls id="audio-file">
                            <source id="audio-source" src="" type="audio/mp3">
                        </audio>
                        <table>
                            <tr>
                                <td class="time" id="spent">00:00</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="hover-circle" id="hover-circle"></div>
                                        <div class="progress" id="progress"></div>
                                    </div>

                                </td>
                                <td class="time" id="length">00:00</td>
                            </tr>
                        </table>
                        <div class="audio-func">
                            <button id="previous" onclick="prevEpisode()"><i style="font-size:large"
                                    class="fa">&#xf04a;</i></button>
                            <button id="play-pause" onclick="playEpisode()"><i id="fSLabel" style="font-size:large"
                                    class="fa">&#xf04b;</i></button>
                            <button id="next" onclick="nextEpisode()"><i style="font-size:large"
                                    class="fa">&#xf04e;</i></button>
                            <button id="playlist" onclick="showList()"><i style="font-size:large"
                                    class="fa">&#xf0c9;</i></button>
                            <button id="toggle-desc" onclick="showDesc()"><i style="font-size:large"
                                    class="fa">&#xf249;</i></button>
                        </div>
                    </div>
                </div>
                <div class="description collapsed" id="description" style="text-align: left;">
                    <p id="wbc-description" style="text-align: left;"></p>
                </div>
                <div class="wbc-episodes collapsed" id="wbc-episodes">
                    <div class="wbc-episode" id="ep2" onclick="selectEpisode(1)">
                        <img src="/media/wbc-image.png">
                        <h3>EP2 - The Limit of Opinion Entitlement</h3>
                    </div>

                    <div class="wbc-episode" id="ep1" onclick="selectEpisode(0)">
                        <img src="/media/wbc-image.png">
                        <h3>EP1 - Social Media and the Whole Thing</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const episodes = [
            ["EP1 - Social Media and the Whole Thing", "https://ia801403.us.archive.org/3/items/wbc_20250414/wbc-e1.mp3", "What does it take to be an influencer? And what role does the audience actually play within this system? Find out with us! (Wolfie regrets his bad mic and would like to apologise)", null],
            ["EP2 - The Limit of Opinion Entitlement", "https://ia801403.us.archive.org/3/items/wbc_20250414/wbc-e2.mp3", " People are entitled to their opinions. Many say that there is a certain extent to it. But, what is this extent? Listen to us yap for about this for almost an hour. We will be talking about changing lines of social acceptability and sheds fear of a hypothetical future where ideas that we consider morally degenerate are accepted. Still we have the worst mics ever...", "This episode discusses sensitive topics such as pedophilia and other morally complex issues. The episode may not be suitable for all listeners. If you are affected by these themes, we encourage you to seek support and/or avoid this episode."],
        ];

        const audioName = document.getElementById("title");
        const playlist = document.getElementById("wbc-episodes");
        const audioPlayer = document.getElementById("audio-file");
        const playPauseButton = document.getElementById("play-pause");
        const playPauseLabel = document.getElementById("fSLabel");
        const audioLenLabel = document.getElementById("length");
        const audioElaLabel = document.getElementById("spent");
        const progressBar = document.querySelector(".progress-bar");
        const progress = document.getElementById("progress");
        const hoverCircle = document.getElementById("hover-circle");
        const description = document.getElementById("description");
        const descriptionText = document.getElementById("wbc-description");
        const tw = document.getElementById("tw");

        let episode = 2;
        let interval = null;

        progressBar.addEventListener("mousemove", (e) => {
            const rect = progressBar.getBoundingClientRect();
            const x = e.clientX - rect.left;
            hoverCircle.style.left = `${x}px`;
            hoverCircle.style.display = "block";
        });

        progressBar.addEventListener("mouseleave", () => {
            hoverCircle.style.display = "none";
        });


        function selectEpisode(epIndex) {
            episode = epIndex; // Store current episode index
            const name = episodes[epIndex][0];
            audioName.textContent = name;
            descriptionText.innerHTML = `<b>Description:</b> ${episodes[epIndex][2]}`;
            audioPlayer.innerHTML = `<source id="audio-source" src="${episodes[epIndex][1]}" type="audio/mp3">`

            if (episodes[epIndex][3]) {
                tw.style.display = "block";
                playPauseButton.onclick = doesNothing;
                playPauseButton.style.opacity = "30%";
                tw.innerHTML = `<b>Trigger Warning</b>: ${episodes[epIndex][3]}&nbsp;<button onclick="twRemove()" class="blur-poem">I'll be Fine</button>`;
                tw.style.marginBottom = "20px";
                tw.style.lineHeight = "2em";
            } else {
                tw.innerHTML = "";
                tw.style.display = "none";
                playPauseButton.onclick = playEpisode;
                playPauseButton.style.opacity = "100%";
            }

            audioPlayer.addEventListener('loadedmetadata', () => {
                const minutes = Math.floor(audioPlayer.duration / 60);
                const seconds = Math.floor(audioPlayer.duration % 60);
                audioLenLabel.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, { once: true });

            audioPlayer.load();
            audioElaLabel.textContent = "00:00";
            progress.style.width = "0%";
        }


        function doesNothing() {

        }

        function twRemove() {
            playPauseButton.onclick = playEpisode;
            playPauseButton.style.opacity = "100%"
            tw.style.display = "none";
        }

        function updateTime() {
            const minutes = Math.floor(audioPlayer.currentTime / 60);
            const seconds = Math.floor(audioPlayer.currentTime % 60);
            audioElaLabel.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

            const percent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
            progress.style.width = `${percent}%`;
        }

        function startUpdatingTime() {
            if (interval) clearInterval(interval);
            interval = setInterval(() => {
                if (!audioPlayer.paused) updateTime();
            }, 500);
        }

        function playEpisode() {
            audioPlayer.play();
            playPauseButton.onclick = pauseEpisode;
            playPauseLabel.innerHTML = "&#xf04c;";
            startUpdatingTime();
        }

        function pauseEpisode() {
            audioPlayer.pause();
            const triggerWarning = episodes[episode][3];
            if (!triggerWarning || tw.style.display === "none") {
                playPauseButton.onclick = playEpisode;
            } else {
                playPauseButton.onclick = doesNothing;
            }
            playPauseLabel.innerHTML = "&#xf04b;";
        }


        function nextEpisode() {
            if (episode + 1 < episodes.length) {
                selectEpisode(episode + 1);
                pauseEpisode();
            }
        }

        function prevEpisode() {
            if (episode - 1 >= 0) {
                selectEpisode(episode - 1);
                pauseEpisode();
            }
        }


        function showList() {
            playlist.classList.toggle("collapsed");
        }

        function showDesc() {
            description.classList.toggle("collapsed");
        }

        progressBar.addEventListener("click", (e) => {
            const rect = progressBar.getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            const width = rect.width;
            const percent = clickX / width;
            const newTime = percent * audioPlayer.duration;
            audioPlayer.currentTime = newTime;
            updateTime();
        });

        selectEpisode(1);

        document.body.appendChild(footerDiv);
    </script>
</body>

</html>