<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/media/favicon.png">
    <link rel="stylesheet" type="text/css" href="/design.css">
    <link rel="stylesheet" type="text/css" href="/pages.css">
    <script src="/func.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
</head>

<body style="padding: 0px;">
    <script>
        createNavBar("#363062", "#4D4C7D", "#443D7B", 3, "Wanna Be Cancelled?");
    </script>
    <style>
        body {
            margin: 0;
            overflow-x: hidden;
        }

        .web-body {
            max-width: 100vw;
            overflow-x: hidden;
        }

        .wbc-player {
            background-color: #4D4C7D;
            padding: 20px;
            box-sizing: border-box;
            display: flex;
            flex-wrap: wrap;
            gap: 25px;
            color: #fff;
        }

        .wbc-player img {
            width: 100%;
            height: auto;
            /* Maintain aspect ratio */
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0px 0px 3px 3px #222;
        }

        .stuff-holder {
            width: 30%;
            border: transparent 3px solid;
            background-color: transparent;
            color: transparent;
            border-radius: 10px;
            overflow: scroll;
            font-size: small;
            text-align: left;
            box-sizing: border-box;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .audio-player {
            flex: 1;
            min-width: 0;
        }

        .audio-player audio {
            width: 100%;
        }

        .audio-player h2 {
            text-align: left;
            margin-bottom: 0px;
            margin-top: 10px;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .audio-player p {
            text-align: left;
            margin: 2px auto;
        }

        .audio-player table,
        th,
        td {
            width: 100%;
            border: 0px none;
        }

        .audio-func {
            margin-bottom: 10px;
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }

        .audio-func button {
            background-color: #fff;
            color: #4D4C7D;
            border-width: 0px;
            height: 45px;
            width: 45px;
            text-align: center;
            vertical-align: middle;
        }

        .audio-func button:hover {
            background-color: #363062;
            color: #fff;
            cursor: pointer;
        }

        .stuff-holder button {
            padding: 5px 10px;
            border-width: 0;
            background-color: white;
            color: #a91101;
            margin-top: 10px;
            width: 100%;
        }

        .description {
            background-color: #363062;
            color: #f5efe7;
            padding: 20px;
            font-size: small;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out, padding 0.3s ease-in-out, margin 0.3s ease-in-out;
        }

        .description.collapsed {
            display: none;
            max-height: 0;
            padding: 0 !important;
            margin-top: 0 !important;
        }

        
        .title-box h1 {
            font-size: 60px;
        }

        @media (min-width: 700px) and (max-width: 1320px) {
            .wbc-player {
                flex-direction: column;
                align-items: center;
                padding: 50px;
            }

            .description {
                padding: 50px;
            }

            .stuff-holder {
                width: 100%;
            }

            .audio-player {
                width: 100%;
            }

            .title-box h1 {
            font-size: 50px;
        }
        }

        @media (max-width: 650px) {
            .wbc-player {
                flex-direction: column;
                align-items: center;
                padding: 5vw;
            }

            .description {
                padding: 5vw;

            }

            .stuff-holder {
                width: 100%;
            }

            .audio-player {
                width: 100%;
            }

            .title-box h1 {
            font-size: 50px;
        }
        }

        .hover-circle {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #fff;
            border-radius: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            display: none;
            z-index: 2;
        }


        .progress-bar {
            height: 5px;
            background-color: #fff;
            padding: 0px;
            margin: 5px auto;
            cursor: pointer;
            position: relative;
        }

        .progress {
            height: 100%;
            background-color: #ae93cb;
            width: 0%;
            pointer-events: none;
        }

        .time {
            padding: 0px;
            width: 10px;
            font-family: consolas;
            color: #fff;
            font-size: small;
        }

        .wbc-episodes {
            padding: 20px;
            background-color: #4D4C7D;
            margin-top: 40px;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            max-height: 1000px;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out, padding 0.3s ease-in-out, margin 0.3s ease-in-out;
        }

        .wbc-episode {
            background-color: #fcfcfc;
            width: 100%;
            padding: 15px;
        }

        .wbc-episode:hover {
            background-color: #D8C4B6;
            cursor: pointer;
        }

        .wbc-episode h3 {
            margin: 0;
            font-size: medium;
            width: 100%;
            text-align: left;
        }

        .wbc-episode p {
            font-size: small;
            text-align: left;
            margin-bottom: 0px;
        }

        .title-box {
            margin-bottom: 60px;
            text-align: left;
        }

    </style>

    <div class="web-body" style="background-color: #f5efe7;">
        <div class="body-main">
            <div class="wbc-about-box">
                <div class="title-box">
                    <h1>Wanna Be Cancelled?</h1>
                    <p>We're a podcast about humans and, I don't know, everything! It could seem like the most innocent
                        episode at a
                        point and us just, asking to be cancelled in another. Trust me, we're worth the trouble.
                        Anyways,
                        thank you
                        for reading the description up to this point. You can go back to doing something important now.
                        Unless you are
                        bored and just want to listen to two randos' yapping... Then, feel free to sit back, grab a
                        snack,
                        and let our
                        thoughts stack.</p>
                </div>
                <div class="wbc-player" style="margin-top: 5px;">
                    <div class="stuff-holder" id="stuff">
                        <img src="/media/wbc-image.png">
                    </div>
                    <div class="audio-player">
                        <h2 id="title">EP3 - How Society Always Moves On</h2>
                        <p>Wolfie and Riveen</p>
                        <div id="sideChick" style="margin-top: 15px; display: none;">
                            <audio controls id="audio-file">
                                <source id="audio-source" src="" type="audio/mp3">
                            </audio>
                            <div class="audio-func">
                                <button id="previous" onclick="prevEpisode()" title="Previous Episode"><i
                                        style="font-size:large" class="fa">&#xf04a;</i></button>
                                <button id="next" onclick="nextEpisode()" title="Next Episode"><i
                                        style="font-size:large" class="fa">&#xf04e;</i></button>
                                <button id="toggle" onclick="showDesc()" title="Show Description"><i
                                        style="font-size:large" class="fa">&#xf249;</i></button>
                                <button id="toggle-player" onclick="brokenPlayer()" title="Change Audio Player"><i
                                        style="font-size:large" class="fa">&#xf362;</i></button>
                            </div>
                        </div>
                        <div id="mainPlayer" style="display: block;">
                            <table>
                                <tr>
                                    <td class="time" id="spent">00:00</td>
                                    <td>
                                        <div class="progress-bar">
                                            <div class="hover-circle" id="hover-circle"></div>
                                            <div class="progress" id="progress"></div>
                                        </div>

                                    </td>
                                    <td class="time" id="length">00:00</td>
                                </tr>
                            </table>
                            <div class="audio-func">
                                <button class = "func-button" id="previous" onclick="prevEpisode()" title="Previous Episode"><i
                                        style="font-size:large" class="fa">&#xf04a;</i></button>
                                <button class = "func-button" id="play-pause" onclick="playEpisode()" title="Play/ Pause Episode"><i
                                        id="fSLabel" style="font-size:large" class="fa">&#xf04b;</i></button>
                                <button class = "func-button" id="next" onclick="nextEpisode()" title="Next Episode"><i
                                        style="font-size:large" class="fa">&#xf04e;</i></button>
                                <button class = "func-button" id="description" onclick="showDesc()" title="Show Description"><i
                                        style="font-size:large" class="fa">&#x2a;</i></button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="wbc-episodes" id="wbc-episodes">
                    <div class="search-container" style="margin-bottom: 5px;">
                        <button style="background-color: #D8C4B6;"><i class="fa fa-search"
                                style="font-size: medium;"></i></button>
                        <input type="text" id="search" placeholder="Search for an episode..."
                            oninput="filterGlossary('search', '.wbc-episode', '.wbc-episode h3', '.wbc-episode p')">
                    </div>

                    <div class="wbc-episode" id="ep2" onclick="selectEpisode(1)">
                        <h3>Episode 2 - The Limit of Opinion Entitlement</h3>
                        <p>People are entitled to their opinions. Many say that there is a certain extent to it. But,
                            what is this extent? Listen to us yap for about this for almost an hour. We will be talking
                            about changing lines of social acceptability and sheds fear of a hypothetical future where
                            ideas that we consider morally degenerate are accepted. Still we have the worst mics ever...
                        </p>
                    </div>

                    <div class="wbc-episode" id="ep1" onclick="selectEpisode(0)">
                        <h3>Episode 1 - Social Media and the Whole Thing</h3>
                        <p>What does it take to be an influencer? And what role does the audience actually play within
                            this system? Find out with us! (Wolfie regrets his bad mic and would like to apologise)</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const episodes = [
            ["EP1 - Social Media and the Whole Thing", "https://ia801403.us.archive.org/3/items/wbc_20250414/wbc-e1.mp3", "What does it take to be an influencer? And what role does the audience actually play within this system? Find out with us! (Wolfie regrets his bad mic and would like to apologise)", null],
            ["EP2 - The Limit of Opinion Entitlement", "https://ia801403.us.archive.org/3/items/wbc_20250414/wbc-e2.mp3", " People are entitled to their opinions. Many say that there is a certain extent to it. But, what is this extent? Listen to us yap for about this for almost an hour. We will be talking about changing lines of social acceptability and sheds fear of a hypothetical future where ideas that we consider morally degenerate are accepted. Still we have the worst mics ever...", "This episode discusses sensitive topics such as pedophilia and other morally complex issues. The episode may not be suitable for all listeners. If you are affected by these themes, we encourage you to seek support and/or avoid this episode."],
        ];

        const audioName = document.getElementById("title");
        const playlist = document.getElementById("wbc-episodes");
        const audioPlayer = document.getElementById("audio-file");
        const playPauseButton = document.getElementById("play-pause");
        const playPauseLabel = document.getElementById("fSLabel");
        const audioLenLabel = document.getElementById("length");
        const audioElaLabel = document.getElementById("spent");
        const progressBar = document.querySelector(".progress-bar");
        const progress = document.getElementById("progress");
        const hoverCircle = document.getElementById("hover-circle");
        const desc = document.getElementById("description");
        const sideChick = document.getElementById("sideChick");
        const mainPlayer = document.getElementById("mainPlayer");
        const stuff = document.getElementById("stuff");
        const func = document.getElementsByClassName("func-buttons");

        var descShow = 0;
        var descText = null;
        var twText = null;

        let episode = 2;
        let interval = null;

        //func.style.width = func.height;

        function updateStuffHeight() {
            stuff.style.height = stuff.offsetWidth + "px";
        }

        // On page load
        document.addEventListener("DOMContentLoaded", updateStuffHeight);

        // On window resize
        window.addEventListener("resize", updateStuffHeight);


        progressBar.addEventListener("mousemove", (e) => {
            const rect = progressBar.getBoundingClientRect();
            const x = e.clientX - rect.left;
            hoverCircle.style.left = `${x}px`;
            hoverCircle.style.display = "block";
        });

        progressBar.addEventListener("mouseleave", () => {
            hoverCircle.style.display = "none";
        });

        function selectEpisode(epIndex) {
            twRemove();

            episode = epIndex; // Store current episode index
            const name = episodes[epIndex][0];
            audioName.textContent = name;
            descShow = 0;
            descText = `<b>Description:</b> ${episodes[epIndex][2]}`;
            audioPlayer.src = episodes[epIndex][1]
            audioPlayer.innerHTML = `<source id="audio-source" src="${episodes[epIndex][1]}" type="audio/mp3">`

            if (episodes[epIndex][3]) {
                playPauseButton.onclick = doesNothing;
                desc.onclick = doesNothing;
                playPauseButton.style.opacity = "30%";
                document.getElementById("description").style.opacity = "30%";
                stuff.innerHTML = "";
                stuff.style.backgroundColor = "#FDC3C3";
                stuff.style.color = "#a91101";
                stuff.style.padding = "20px";
                stuff.style.overflowY = "scroll";
                stuff.innerHTML = `<b>Trigger Warning</b>: ${episodes[epIndex][3]}&nbsp;<button onclick="twRemove()" class="blur-poem">I'll be Fine</button>`;
                stuff.scrollTop = 0;
            } else {
                stuff.innerHTML = "<img src='/media/wbc-image.png'>";
                stuff.style.backgroundColor = "transparent";
                stuff.style.color = "transparent";
                stuff.style.padding = "0px";
                stuff.style.overflow = "visible";
                playPauseButton.onclick = playEpisode;
                playPauseButton.style.opacity = "100%";
                desc.onclick = showDesc;
                desc.style.opacity = "100%"
            }

            audioPlayer.addEventListener('loadedmetadata', () => {
                const minutes = Math.floor(audioPlayer.duration / 60);
                const seconds = Math.floor(audioPlayer.duration % 60);
                audioLenLabel.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, { once: true });

            audioPlayer.load();
            audioElaLabel.textContent = "00:00";
            progress.style.width = "0%";
        }

        function doesNothing() {
            // haha, nerd!
        }

        function twRemove() {
            playPauseButton.onclick = playEpisode;
            playPauseButton.style.opacity = "100%"
            desc.onclick = showDesc;
            desc.style.opacity = "100%"
            stuff.innerHTML = "<img src='/media/wbc-image.png'>";
            stuff.style.backgroundColor = "transparent";
            stuff.style.color = "transparent";
            stuff.style.padding = "0px";
            stuff.style.overflow = "visible";
        }

        function updateTime() {
            const minutes = Math.floor(audioPlayer.currentTime / 60);
            const seconds = Math.floor(audioPlayer.currentTime % 60);
            audioElaLabel.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

            const percent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
            progress.style.width = `${percent}%`;
        }

        function startUpdatingTime() {
            if (interval) clearInterval(interval);
            interval = setInterval(() => {
                if (!audioPlayer.paused) updateTime();
            }, 500);
        }

        function playEpisode() {
            audioPlayer.play();
            playPauseButton.onclick = pauseEpisode;
            playPauseLabel.innerHTML = "&#xf04c;";
            startUpdatingTime();
        }

        function pauseEpisode() {
            audioPlayer.pause();
            const triggerWarning = episodes[episode][3];
            if (!triggerWarning || tw.style.display === "none") {
                playPauseButton.onclick = playEpisode;
            } else {
                playPauseButton.onclick = doesNothing;
            }
            playPauseLabel.innerHTML = "&#xf04b;";
        }

        function nextEpisode() {
            if (episode + 1 < episodes.length) {
                selectEpisode(episode + 1);
                pauseEpisode();
            }
        }

        function prevEpisode() {
            if (episode - 1 >= 0) {
                selectEpisode(episode - 1);
                pauseEpisode();
            }
        }

        function showDesc() {
            desc.classList.toggle("collapsed");
            if (descShow) {
                stuff.innerHTML = "<img src='/media/wbc-image.png'>";
                stuff.style.backgroundColor = "transparent";
                stuff.style.color = "transparent";
                stuff.style.overflow = "visible";
                stuff.style.padding = "0px";
                descShow = 0;
            } else {
                stuff.innerHTML = "";
                stuff.style.backgroundColor = "#C0ADD7";
                stuff.style.color = "#363062";
                stuff.style.padding = "20px";
                stuff.style.overflowY = "scroll";
                stuff.innerHTML = `${descText}`;
                descShow = 1;
                stuff.scrollTop = 0;
            }
        }

        progressBar.addEventListener("click", (e) => {
            const rect = progressBar.getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            const width = rect.width;
            const percent = clickX / width;
            const newTime = percent * audioPlayer.duration;
            audioPlayer.currentTime = newTime;
            updateTime();
        });

        function brokenPlayer() {
            if (sideChick.style.display === "none") {
                mainPlayer.style.display = "none";
                sideChick.style.display = "";
                pauseEpisode();
            } else {
                mainPlayer.style.display = "";
                sideChick.style.display = "none";
                pauseEpisode();
            }
        }

        selectEpisode(1);
        textWrap(".wbc-episode p", 2)
        document.body.appendChild(footerDiv);
    </script>
</body>

</html>